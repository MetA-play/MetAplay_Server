syntax = "proto3";
package Protocol;

import "google/protobuf/timestamp.proto";

option csharp_namespace = "Google.Protobuf.Protocol"; //C#파일의 네임스페이스 이름\


// ---------------------------------------------------- uSER Info --------------------------------------------------------------- \\
message UserInfo{
	string nickName = 1;
}

// ---------------------------------------------------- Room Info --------------------------------------------------------------- \\
message RoomSetting{
  string Name = 1;
  int32 maxPlayer =2;
}

message RoomInfo{
	int32 Id = 1;
	RoomSetting Setting = 2;
}

// ---------------------------------------------------- Scene Type --------------------------------------------------------------- \\

enum SceneType{
	MAIN = 0;
	LOBBY = 1;
	GAME = 2;
}

// ---------------------------------------------------- Object --------------------------------------------------------------- \\

enum ObjectState {
  IDLE = 0;
  MOVE = 1;
  JUMP = 2;
  STUN = 3;
  DIE = 4;
}

enum GameObjectType {
  NONE = 0;
  PLAYER = 1;
}

enum MoveDir{
	FRONT = 0;
	LEFT = 1;
	RIGHT = 2;
	BACK = 3;
}

message Vector{
	float X = 1;
	float Y = 2;
	float Z = 3;
}

message TransformInfo{
	MoveDir Dir = 1;
	Vector Pos = 2;
	Vector Rot = 3;
	Vector Scale = 4;
}

message ObjectInfo{
	int32 Id = 1;
	ObjectState State = 2;
	TransformInfo Transform = 3;
}

// ---------------------------------------------------- message Id--------------------------------------------------------------- \\

enum MsgId{
	C_CREATEROOM_REQ = 0;
	S_CREATEROOM_RES = 1;
	C_JOINROOM_REQ = 2;
	S_JOINROOM_RES = 3;
	S_ROOMPERSONNEL_CHANGE = 4;
	S_ENTER_GAME = 5;
	S_SPAWN = 6;
	S_DESPAWN = 7;
	S_LEAVE_GAME = 8;
	C_MOVE = 9;
	S_MOVE = 10;
}
// ------------------------------------------------------ Packet ----------------------------------------------------------------- \\


// -------------------------------------- Ingame ----------------------------------- \\

message C_CreateroomReq{
  RoomSetting Setting = 1;
}

message S_CreateroomRes{
	int32 roomId =1;
}

message C_JoinroomReq{
  int32 roomId = 1;
}

message S_JoinroomRes{
  int32 roomId = 1;
}

message S_RoompersonnelChange{
  repeated UserInfo Users = 1;
}
// -------------------------------------- Ingame ----------------------------------- \\
message S_EnterGame{
	ObjectInfo player = 1;
}

message S_Spawn{
	repeated ObjectInfo Objects = 1;
}
message S_Despawn{
	repeated int32 objectId = 1;
}

message S_LeaveGame{
}


message C_Move{
	ObjectState State = 1;
	TransformInfo Transform = 2;
}

message S_Move{
	int32 Id = 1;
	ObjectState State = 2;
	TransformInfo Transform = 3;
}

